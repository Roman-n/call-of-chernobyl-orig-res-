[wpn_toz34]:identity_immunities,weapon_probability,default_weapon_params
GroupControlSection			= spawn_group
$spawn                   = "weapons\toz-34"              ; option for Level Editor
$npc			 			= on				; option for Level Editor
$prefetch 		 			= 8
scheduled                	= off              ; option for ALife Simulator
cform                    	= skeleton
class                    	= WP_BM16
description          		= st_wpn_toz34_descr
ef_main_weapon_type			= 1
ef_weapon_type				= 9

;-----------------------------------------------------------------------------
cost            = 3200
weapon_class	= shotgun
inv_weight     	= 3.1

upgrades                = up_gr_firstab_toz34, up_gr_seconab_toz34, up_gr_thirdab_toz34
installed_upgrades      =
upgrade_scheme          = upgrade_scheme_toz34

;--TTX----------------------------------------------------------------------------
hit_power       = 0.8
hit_impulse     = 100
hit_type 		= fire_wound
fire_distance           = 250
bullet_speed         	= 340 ;начальная скорость пули
rpm                     = 1000

hud                        = wpn_toz34_hud

misfire_probability        = 0.005 ;вероятность осечки при максимальном износе  !!!old - now not working
;изношенность, при которой появляется шанс осечки
misfire_start_condition		= 0.6
;изношеность при которой шанс осечки становится константным
misfire_end_condition		= 0.1
;шанс осечки при изношености больше чем misfireStartCondition
misfire_start_prob	     	= 0.002
;шанс осечки при изношености больше чем misfireEndCondition
misfire_end_prob	     	= 0.03
;увеличение изношености при одиночном выстреле
condition_shot_dec      	= 0.0045
;увеличение изношености при выстреле очередью
condition_queue_shot_dec	= 0.0045

tri_state_reload			= off

ammo_elapsed		 		= 2
ammo_mag_size      			= 2
ammo_class = ammo_12x70_buck, ammo_12x76_zhekan

;---дисперсия---------------------------------------------------------------------------
;базовая дисперсия
fire_dispersion_base    = 0.2  ;угол (в градусах) базовой дисперсии оружия (оружия зажатого в тисках)
control_inertion_factor = 1.5f
crosshair_inertion		= 7.5

;отдача
cam_return				= 1
cam_relax_speed         = 5.0 ;скорость возврата в исходное положение
cam_relax_speed_ai      = 360
cam_dispersion          = 8.0 ;увеличения угла (в градусах) с каждым выстрелом
cam_dispersion_inc      = 5.0 ;увеличениe cam_dispersion с каждым выстрелом
cam_dispersion_frac		= 0.7	;ствол будет подыматься на cam_dispersion*cam_dispersion_frac +- cam_dispersion*(1-cam_dispersion_frac)
cam_max_angle        	= 50.0 ;максимальный угол отдачи
cam_max_angle_horz      = 10.0   ;(degree) maximum shot horizontal degree
cam_step_angle_horz     = 1.0 ;(degree) size of step camera moved in horizontal position while shooting

PDM_disp_base 				= 0.5
PDM_disp_vel_factor 		= 1.7
PDM_disp_accel_factor 		= 1.7
PDM_disp_crouch	 			= 1.0
PDM_disp_crouch_no_acc 		= 1.0

zoom_cam_relax_speed        = 5.0    ; scope & ironsight
zoom_cam_relax_speed_ai     = 120.75
zoom_cam_dispersion         = 5.0
zoom_cam_dispersion_inc     = 3.0
zoom_cam_dispersion_frac    = 0.7
zoom_cam_max_angle          = 50.0
zoom_cam_max_angle_horz     = 10.0
zoom_cam_step_angle_horz    = 1.0

fire_dispersion_condition_factor = 4	;увеличение дисперсии в процентах при максимальном износе

;---DOF-------------------------------------------------------------------------
zoom_dof				= 0.5, 1.0, 180
;reload_dof				= 0.0, 0.5, 5, 3.2
;-------------------------------------------------------------------------------
holder_range_modifier	= 1.0               ; во сколько раз увеличивается eye_range
holder_fov_modifier		= 1.0              ; во сколько раз увеличивается eye_fov

min_radius               	= 0
max_radius               	= 50

hit_probability_gd_novice	= 0.80
hit_probability_gd_stalker	= 0.80
hit_probability_gd_veteran	= 0.80
hit_probability_gd_master	= 0.80

;-------------------------------------------------------------------------------
position                   = -0.023, -0.14, 0.00
orientation                = 0, 30, 0    х

shell_point      = 0.0, 0.183, 0.07
fire_point       = 0.0, 0.168, 0.755
fire_point2      = 0.0, 0.168, 0.755

hand_dependence = 1
single_handed	= 0

slot 			= 2		; // secondary
animation_slot  = 3     ; type of the animation that will be used

inv_name    	= st_wpn_toz34
inv_name_short 	= st_wpn_toz34

inv_grid_width				= 6
inv_grid_height				= 1
inv_grid_x					= 70
inv_grid_y					= 36

upgr_icon_x				= 1450
upgr_icon_y				= 550
upgr_icon_width				= 300
upgr_icon_height 				= 50

kill_msg_x       = 127
kill_msg_y       = 82
kill_msg_width   = 97
kill_msg_height  = 23

flame_particles		   	= weapons\generic_weapon05
smoke_particles		   	= weapons\generic_shoot_00
rpm_empty_click 	   	= 200

;--STRAP PARAMETERS-----------------------------------------------------------------
;под мишкой
strap_position             = -0.26,-0.11,0.15         ; position (offset) and orientation of the weapon when it is strapped
strap_orientation      		= -15,-9,110				; (3rd person view in degrees)
strap_bone0					= bip01_spine2
strap_bone1					= bip01_spine1

startup_ammo             	= 10
visual                   	= dynamics\weapons\wpn_toz34\wpn_toz34.ogf

light_color		 			= 0.6,0.5,0.3
light_range		 			= 6.0
light_var_color		 		= 0.05
light_var_range		 		= 0.5
light_time 		 			= 0.2

ph_mass			 			= 3

;addons
scope_status				= 0
silencer_status				= 0
grenade_launcher_status		= 0

zoom_enabled				= true
scope_zoom_factor	    	= 55

;звуки
snd_draw						= weapons\generic_draw
snd_holster					= weapons\generic_holster
snd_shoot         		= weapons\toz34\toz34_fire
snd_empty					= weapons\generic_empty
snd_reload					= weapons\toz34\toz34_reload_both
snd_shoot_duplet  		= weapons\n_toz34_shot

snd_shoot_1             = weapons\toz34\toz34_fire
snd_reload_1            = weapons\toz34\toz34_reload_one
snd_close_weapon			= weapons\spas12_close
snd_add_cartridge			= weapons\w1300_load		;was gen_grenload
snd_open_weapon			= weapons\spas12_close

[wpn_toz34_hud]:hud_base
zoom_hide_crosshair			= true

hands_position				= -0.1475,-0.15,0.01
hands_orientation				= 2,2,0

hands_position_16x9			= -0.1475,-0.15,0.01
hands_orientation_16x9			= 2,2,0

item_position				= 0,0,0
item_orientation				= 0,0,0

aim_hud_offset_pos			= -0.081,0.073,0.05
aim_hud_offset_rot			= 0.037,0.0349,0.0

aim_hud_offset_pos_16x9			= -0.081,0.073,0.05
aim_hud_offset_rot_16x9			= 0.037,0.0349,0.0

shell_point				= 0,0,0
shell_dir                    			= 0,1,0
shell_bone				= wpn_body

fire_point				= 0,0,0
fire_bone                     			= muzzle

attach_place_idx				= 0
item_visual               			= dynamics\weapons\wpn_toz34\wpn_toz34_hud.ogf

anm_show_0                   		 	= toz34_draw
anm_show_1                    			= toz34_draw
anm_show_2                    			= toz34_draw
anm_hide_0		            		= toz34_holster
anm_hide_1		            		= toz34_holster
anm_hide_2		            		= toz34_holster
anm_idle_0		            		= toz34_idle
anm_idle_1		            		= toz34_idle
anm_idle_2		            		= toz34_idle
anm_idle_aim_0			         	= toz34_idle_aim
anm_idle_aim_1			         	= toz34_idle_aim
anm_idle_aim_2			         	= toz34_idle_aim
anm_idle_moving_0		         	= toz34_idle_moving
anm_idle_moving_1		         	= toz34_idle_moving
anm_idle_moving_2		         	= toz34_idle_moving
anm_idle_moving_crouch_0		 	= toz34_idle_crouch
anm_idle_moving_crouch_1		 	= toz34_idle_crouch
anm_idle_moving_crouch_2		 	= toz34_idle_crouch
anm_idle_sprint_0		         		= toz34_idle_sprint
anm_idle_sprint_1		         		= toz34_idle_sprint
anm_idle_sprint_2		       	  	= toz34_idle_sprint
anm_reload_1				= toz34_reload_l, reload_l
anm_reload_2				= toz34_reload_lr, reload_lr
anm_shot_1				= toz34_shoot, shoot
anm_shot_2				= toz34_shoot, shoot
anm_bore_0				= toz34_idle_aim
anm_bore_1				= toz34_idle_aim
anm_bore_2				= toz34_idle_aim
;-----------------------------------------------------------------------------
; Шкурки
;-----------------------------------------------------------------------------
[wpn_toz34_sk1]:wpn_toz34
$spawn					 = "weapons\toz-34_sk1"

hud 					= wpn_toz34_sk1_hud
visual					= dynamics\weapons\wpn_toz34\wpn_toz34_sk1.ogf

cost            = 4000

inv_grid_width				= 6
inv_grid_height				= 1
inv_grid_x					= 70
inv_grid_y					= 35

[wpn_toz34_sk1_hud]:wpn_toz34_hud
item_visual               			= dynamics\weapons\wpn_toz34\wpn_toz34_sk1_hud.ogf
;-----------------------------------------------------------------------------
; Особые
;-----------------------------------------------------------------------------
[wpn_toz34_so]:wpn_toz34
$spawn					 = "weapons\toz-34_so"
description 				= st_wpn_toz34_so_descr
visual					= dynamics\weapons\wpn_toz34\wpn_toz34_obrez.ogf
hud 					= wpn_toz34_so_hud

hit_power       = 0.9
hit_impulse     = 150
hit_type 		= fire_wound
fire_distance       	= 50
bullet_speed			= 220
rpm                 	= 1000

inv_name				= st_wpn_toz34_so
inv_name_short 				= st_wpn_toz34_so

inv_grid_width				= 3
inv_grid_height				= 1
inv_grid_x					= 79
inv_grid_y					= 37

snd_shoot         		= weapons\toz34\toz34_so_fire

cost 					= 600
inv_weight 				= 2.10

fire_dispersion_base		= 0.48 	;угол (в градусах) базовой дисперсии оружия (оружия зажатого в тисках)
control_inertion_factor		= 1.0f
crosshair_inertion			= 4.7

;отдача
cam_return				= 1
cam_relax_speed         = 4.0		;скорость возврата в исходное положение
cam_relax_speed_ai      = 360
cam_dispersion          = 14.5 	;увеличения угла (в градусах) с каждым выстрелом
cam_dispersion_inc		= 7.5 	;увеличениe cam_dispersion с каждым выстрелом
cam_dispersion_frac		= 0.5 	;ствол будет подыматься на cam_dispersion*cam_dispersion_frac +- cam_dispersion*(1-cam_dispersion_frac)
cam_max_angle			= 55 		;максимальный угол отдачи
cam_max_angle_horz		= 15 		;(degree) maximum shot horizontal degree
cam_step_angle_horz		= 5.5 	;(degree) size of step camera moved in horizontal position while shooting

zoom_cam_relax_speed        = 4.0    ; scope & ironsight
zoom_cam_relax_speed_ai     = 120.75
zoom_cam_dispersion         = 10.5
zoom_cam_dispersion_inc     = 5.5
zoom_cam_dispersion_frac    = 0.5
zoom_cam_max_angle          = 55.0
zoom_cam_max_angle_horz     = 5.0
zoom_cam_step_angle_horz    = 3.5

zoom_rotate_time				= 0.20

[wpn_toz34_so_hud]:wpn_toz34_hud
item_visual               			= dynamics\weapons\wpn_toz34\wpn_toz34_obrez_hud.ogf

[wpn_toz34_so_sk1]:wpn_toz34_so
$spawn					 = "weapons\toz-34_so_sk1"
visual					= dynamics\weapons\wpn_toz34\wpn_toz34_obrez_sk1.ogf
hud 					= wpn_toz34_so_sk1_hud

inv_grid_width				= 3
inv_grid_height				= 1
inv_grid_x					= 79
inv_grid_y					= 34

[wpn_toz34_so_sk1_hud]:wpn_toz34_hud
item_visual               			= dynamics\weapons\wpn_toz34\wpn_toz34_obrez_sk1_hud.ogf
